h1. Конвертация Textile в BBCode

Документ описывает утилиту из репозитория для преобразования файлов с
разметкой Textile в BBCode.

h2. Структура

# @textile2bbcode/converter.py@ — модуль с функцией @convert@, которая
  превращает строку с Textile в BBCode.
# @main.py@ — CLI-оболочка, принимающая входной файл и опциональный путь
  для вывода результата.

h2. Поддерживаемые элементы

* Заголовки вида @h1. Текст@, @h2. Текст@ и т.д. →
  @[SIZE=18pt][B]Заголовок[/B][/SIZE]@ для @h1@,
  @[SIZE=16pt][B]...[/B][/SIZE]@ для @h2@,
  @[SIZE=14pt][B]...[/B][/SIZE]@ для @h3@,
  дальше по убыванию до @8pt@ для @h6@.
* Инлайн-код @@@код@@@ → @[code]код[/code]@.
* Блоки кода в формате @<pre><code class="lang">...@ →
  @[CODE]&#91;code=lang&#93;...\n&#91;/code&#93;[/CODE]@ с экранированными
  скобками. Если язык не указан, будет @&#91;code&#93;@ без суффикса языка.
* Списки на основе Textile-маркеров:
** строки, начинающиеся с @# @, превращаются в нумерованный список через
   @[list=1]@ и элементы @[*]@;
** строки со @* @ превращаются в маркированный список @[list]@.

h2. Использование CLI

Базовый запуск с выводом в stdout:
<pre><code class="bash">
python main.py путь/к/входному.textile
</code></pre>

Запись результата в файл:
<pre><code class="bash">
python main.py вход.textile -o выход.bbcode
</code></pre>

h2. Как работать с утилитой

# Установите зависимости командой @pip install -r requirements.txt@, если они
  требуются вашему окружению.
# Подготовьте Textile-файл для конвертации.
# Запустите CLI с путём к файлу. Если нужен файл с результатом, используйте
  ключ @--save-txt@, чтобы получить TXT рядом с исходником, или передайте
  собственный путь: @python main.py вход.textile --save-txt отчет@. Расширение
  @.txt@ будет добавлено автоматически.
# При необходимости сохраните вывод в другой файл через @-o@.

h2. Пример конверсии

Textile:
<pre><code class="textile">
h1. Пример

# Первый
# Второй с @inline@
<pre><code class="json">
{"a": 1}
</code></pre>
</code></pre>

BBCode на выходе:
<pre><code class="bbcode">
[SIZE=18pt][B]Пример[/B][/SIZE]
[list=1]
[*]Первый
[*]Второй с [code]inline[/code]
[/list]
[CODE]
&#91;code=json&#93;
{
  "a": 1
}
&#91;/code&#93;
[/CODE]
</code></pre>
