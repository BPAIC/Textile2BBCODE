h1. Конвертация Textile в BBCode

Документ описывает утилиту из репозитория для преобразования файлов с
разметкой Textile в BBCode.

h2. Структура

# @textile2bbcode/converter.py@ — модуль с функцией @convert@, которая
  превращает строку с Textile в BBCode.
# @main.py@ — CLI-оболочка, принимающая входной файл и опциональный путь
  для вывода результата.

h2. Поддерживаемые элементы

* Заголовки вида @h1. Текст@, @h2. Текст@ и т.д. → @[h1]Текст[/h1]@,
  @[h2]...@ и т.п.
* Инлайн-код @@@код@@@ → @[code]код[/code]@.
* Блоки кода в формате @<pre><code class="lang">...@ →
  @[code=lang]...\n[/code]@. Если язык не указан, ставится просто
  @[code]@.
* Списки на основе Textile-маркеров:
** строки, начинающиеся с @# @, превращаются в нумерованный список через
   @[list=1]@ и элементы @[*]@;
** строки со @* @ превращаются в маркированный список @[list]@.

h2. Использование CLI

Базовый запуск с выводом в stdout:
<pre><code class="bash">
python main.py путь/к/входному.textile
</code></pre>

Запись результата в файл:
<pre><code class="bash">
python main.py вход.textile -o выход.bbcode
</code></pre>

h2. Как работать с утилитой

# Установите зависимости командой @pip install -r requirements.txt@, если они
  требуются вашему окружению.
# Подготовьте Textile-файл для конвертации.
# Запустите CLI с путём к файлу. Если нужен файл с результатом, используйте
  ключ @--save-txt@, чтобы получить TXT рядом с исходником, или передайте
  собственный путь: @python main.py вход.textile --save-txt отчет@. Расширение
  @.txt@ будет добавлено автоматически.
# При необходимости сохраните вывод в другой файл через @-o@.

h2. Пример конверсии

Textile:
<pre><code class="textile">
h1. Пример

# Первый
# Второй с @inline@
<pre><code class="json">
{"a": 1}
</code></pre>
</code></pre>

BBCode на выходе:
<pre><code class="bbcode">
[h1]Пример[/h1]
[list=1]
[*]Первый
[*]Второй с [code]inline[/code]
[/list]
[code=json]
{"a": 1}
[/code]
</code></pre>
